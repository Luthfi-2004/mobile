<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/riwayat"></ion-back-button>
    </ion-buttons>
    <ion-title>Penilaian Resto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" style="background-color: #a6ddf0">
  <div class="rating-section">
    <h2>Makanan</h2>
    <div class="stars">
      <ion-icon
        *ngFor="let star of stars; let i = index"
        [name]="i < ratingMakanan ? 'star' : 'star-outline'"
        [class.disabled]="ulasanSudahAda"
        (click)="!ulasanSudahAda && setRating('makanan', i + 1)"
        color="warning"
        class="star-icon"
      ></ion-icon>
    </div>
  </div>

  <div class="rating-section">
    <h2>Pelayanan</h2>
    <div class="stars">
      <ion-icon
        *ngFor="let star of stars; let i = index"
        [name]="i < ratingPelayanan ? 'star' : 'star-outline'"
        [class.disabled]="ulasanSudahAda"
        (click)="!ulasanSudahAda && setRating('pelayanan', i + 1)"
        color="warning"
        class="star-icon"
      ></ion-icon>
    </div>
  </div>

  <div class="rating-section">
    <h2>Aplikasi</h2>
    <div class="stars">
      <ion-icon
        *ngFor="let star of stars; let i = index"
        [name]="i < ratingAplikasi ? 'star' : 'star-outline'"
        [class.disabled]="ulasanSudahAda"
        (click)="!ulasanSudahAda && setRating('aplikasi', i + 1)"
        color="warning"
        class="star-icon"
      ></ion-icon>
    </div>
  </div>

  <div class="rating-section">
    <h2>Saran / Komentar</h2>
    <ion-textarea
      [(ngModel)]="feedback"
      placeholder="Tulis saran atau komentar Anda di sini..."
      autoGrow="true"
      class="feedback-textarea"
      [readonly]="ulasanSudahAda"
    ></ion-textarea>
  </div>

  <div class="thank-you ion-text-center" style="margin-top: 40px;" *ngIf="!ulasanSudahAda">
    <h3>Terima Kasih.</h3>
    <ion-button expand="block" shape="round" color="medium" (click)="simpanPenilaian()">
      Selesai
    </ion-button>
  </div>
</ion-content>
